<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>mongodb 操作 | Kosmgco</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="category" value="wiki">
    <meta name="status" value="draft">
    <meta name="title" value="mongodb 操作">
    <meta name="date" value="2016-07-10 00:00:00">
    <meta name="tags" value="database,mongodb">
    <meta name="reader" value="rst">
    <meta name="summary" value="存放对数据库操作的一些命令">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="wb:webmaster" content="ba29596b8c7c7ae7" /> 

    <meta name="description" content="Linux. Python. Coder. Gopher.">
    <meta name="author" content="kosmgco">

    <link href="/theme/css/fonts.css" rel="stylesheet" />

    <link href="/theme/css/normalize.css" rel="stylesheet"/>
    <link href="/theme/css/skeleton.css" rel="stylesheet"/>
    <link href="/theme/css/github-prettify-theme.css" rel="stylesheet"/>
    <link href="/theme/css/custom.css" rel="stylesheet"/>
    <link href="/theme/css/pygments.css" rel="stylesheet"/>

    <script src="/theme/js/jquery.min.js"></script>
    <script src="/theme/js/run_prettify.js"></script>
    <script src="/theme/js/site.js"></script>
</head>
<body class="code-snippets-visible">

<div class="navbar-spacer"></div>
<nav class="navbar">
    <div class="container">
        <ul class="navbar-list">
            <li class="navbar-item">
                <a class="navbar-link" href="/">
                    HOME
                </a>
            </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/wiki.html">
                        wiki
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/about.html">
                        about
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/blog.html">
                        blog
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/theme.html">
                        theme
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/books.html">
                        books
                    </a>
                </li>
        </ul>
        <div class="navbar-link">
            <a href="/"><img src="/theme/images/header.jpg" class="site-icon"/></a>
        </div>
    </div>
</nav>
<div class="container">
    <section id="content">
        <article>
            <p class="article-date">
                全文总字数: 278
            </p>
            <header class="article-header">
                <a href="/drafts/mongodb-cao-zuo.html" rel="bookmark" title="Permalink to mongodb 操作">
                    <h3 class="blogpost-title">
                        mongodb 操作
                    </h3>
                </a>
            </header>
            <div>
                <div class="section" id="id1">
<h2>安装</h2>
<pre class="literal-block">
sudo apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv EA312927

# Ubuntu 14.04
echo &quot;deb http://repo.mongodb.org/apt/ubuntu trusty/mongodb-org/3.2 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list

# Ubuntu 16.04
echo &quot;deb http://repo.mongodb.org/apt/ubuntu xenial/mongodb-org/3.2 multiverse&quot; | sudo tee /etc/apt/sources.list.d/mongodb-org-3.2.list

sudo apt-get update

sudo apt-get install -y mongodb-org
</pre>
</div>
<div class="section" id="id2">
<h2>操作</h2>
<div class="section" id="find">
<h3>find</h3>
<pre class="literal-block">
use testdb
db.testcol.find()
db.testcol.find({'key':'value'})
db.testcol.find({'key':{$regex:'qwer'}})
db.testcol.find({'key':{$gt:10}}) # &gt;
db.testcol.find({'key':{$lt:10}}) # &lt;
db.testcol.find({'key':{$eq:10}}) # =
db.testcol.find({'key':{$gte:10}}) # &gt;=
db.testcol.find({'key':{$lte:10}}) # &lt;=
db.testcol.find().sort({'key':-1}).limit(10).pretty() # desc
db.testcol.find().sort({'key':1}).limit(10).pretty() # asc
</pre>
</div>
<div class="section" id="add">
<h3>add</h3>
<pre class="literal-block">
db.testcol.save({'a':'b'})
db.testcol.insert({'a':'b'})
</pre>
</div>
<div class="section" id="update">
<h3>update</h3>
<pre class="literal-block">
db.testcol.update_one({'_id':'id'},{$set:{'_id':'id','a':'b'}})
</pre>
</div>
<div class="section" id="delete">
<h3>delete</h3>
<pre class="literal-block">
use testdb
db.dropDatabases() # drop db
db.testcol.drop() # drop collection
db.testcol.remove({'key':'value'}) # delete record
db.testcol.remove({'key':{$exists:true}})
</pre>
</div>
</div>

            </div>
            <div class="article-info">
                <hr/>
                <div class="article-info">
                    <span><b>Category: </b><a href="/category/wiki.html">wiki</a></span>
                    <br/>
                    <span><b>Publication Date: </b> Sun 10 July 2016 </span>
                    <br/>
                        <a class="label-default" href="/tag/database.html">database</a>
                        <a class="label-default" href="/tag/mongodb.html">mongodb</a>
                    <br/>
                </div>
            </div>
        </article>
    </section>
    <br/>
    <br/>
    <br/>
</div>

<footer class="footer">
    &copy <a href="/" >kosmgco</a>. 2016
    <br/>
    Powered by <a href="//getpelican.com/">pelican</a>.
    Theme by <a href="//github.com/kosmgco/ops">ops</a> | 
    <a href="//www.miitbeian.gov.cn/">渝ICP备16003403号</a>
</footer>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?67d2b3355046511d3ad9eef9c65d2a41";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>