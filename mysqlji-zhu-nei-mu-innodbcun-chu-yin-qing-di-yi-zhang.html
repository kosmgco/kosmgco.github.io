<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>《MySQL技术内幕: InnoDB存储引擎》 - 第一章 | Kosmgco</title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="category" value="back-end">
    <meta name="reader" value="markdown">
    <meta name="date" value="2017-07-30 15:54:00">
    <meta name="title" value="《MySQL技术内幕: InnoDB存储引擎》 - 第一章">
    <meta name="tags" value="MySQL,Storage Engine">
    <meta name="summary" value="《MySQL技术内幕: InnoDB存储引擎》 第一章总结">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta property="wb:webmaster" content="ba29596b8c7c7ae7" /> 

    <meta name="description" content="Linux. Python. Coder. Gopher.">
    <meta name="author" content="kosmgco">

    <link href="/theme/css/fonts.css" rel="stylesheet" />

    <link href="/theme/css/normalize.css" rel="stylesheet"/>
    <link href="/theme/css/skeleton.css" rel="stylesheet"/>
    <link href="/theme/css/github-prettify-theme.css" rel="stylesheet"/>
    <link href="/theme/css/custom.css" rel="stylesheet"/>
    <link href="/theme/css/pygments.css" rel="stylesheet"/>

    <script src="/theme/js/jquery.min.js"></script>
    <script src="/theme/js/run_prettify.js"></script>
    <script src="/theme/js/site.js"></script>
</head>
<body class="code-snippets-visible">

<div class="navbar-spacer"></div>
<nav class="navbar">
    <div class="container">
        <ul class="navbar-list">
            <li class="navbar-item">
                <a class="navbar-link" href="/">
                    HOME
                </a>
            </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/about.html">
                        about
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/blog.html">
                        blog
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/books.html">
                        books
                    </a>
                </li>
                <li class="navbar-item">
                    <a class="navbar-link" href="/pages/wiki.html">
                        wiki
                    </a>
                </li>
        </ul>
        <div class="navbar-link">
            <a href="/"><img src="/theme/images/header.jpg" class="site-icon"/></a>
        </div>
    </div>
</nav>
<div class="container">
    <section id="content">
        <article>
            <p class="article-date">
                全文总字数: 1034
            </p>
            <header class="article-header">
                <a href="/mysqlji-zhu-nei-mu-innodbcun-chu-yin-qing-di-yi-zhang.html" rel="bookmark" title="Permalink to 《MySQL技术内幕: InnoDB存储引擎》 - 第一章">
                    <h3 class="blogpost-title">
                        《MySQL技术内幕: InnoDB存储引擎》 - 第一章
                    </h3>
                </a>
            </header>
            <div>
                <h5>1. 数据库</h5>
<p>物理操作系统文件或其他形式文件类型的集合</p>
<h5>2. 数据库实例</h5>
<p>由数据库后台进程/线程以及一个共享内存区组成。 共享内存可以被运行的后台线程/进程共享。</p>
<h5>3. 读配置文件</h5>
<p>MySQL是按<code>/etc/my.cnf</code> &gt; <code>/etc/mysql/my.cnf</code> &gt; <code>/usr/local/mysql/etc/my.cnf</code> &gt; <code>~/.my.cnf</code>， MySQL会以读取到的最后一个配置文件中的参数为准。</p>
<h5>4. MySQL组成</h5>
<ul>
<li>连接池组件</li>
<li>管理服务和工具组件</li>
<li>SQL接口组件</li>
<li>查询分析器组件</li>
<li>优化器组件</li>
<li>缓冲(Cache)组件</li>
<li>插件式存储引擎</li>
<li>物理文件</li>
</ul>
<h5>5. MySQL存储引擎</h5>
<ul>
<li>InnoDB存储引擎</li>
</ul>
<p>InnoDB存储引擎支持事务，主要面向在线事务处理(OLTP)方面的应用。 其特点是<strong>行锁设计</strong>、<strong>支持外键</strong>，并支持类似于Oracle的<strong>非锁定读</strong>，即默认情况下读取操作不会产生锁。</p>
<ul>
<li>MyISAM存储引擎</li>
</ul>
<p>MySQL官方提供的存储引擎。 其特点是不支持<strong>事务</strong>、<strong>表锁</strong>和<strong>全文索引</strong>， 对一些OLAP操作(在线分析处理)速度快。 由<code>MYD</code>和<code>MYI</code>组成， <code>MYD</code>用来存放数据文件，<code>MYI</code>用来存放索引文件。</p>
<ul>
<li>NDB存储引擎</li>
</ul>
<p>NDB存储引擎是一个集群存储引擎，其特点是数据全部放在内存中，因此主键查找的速度极快，并且通过添加NDB数据存储结点可以线性地提高数据库性能，是高可用，高性能的集群系统。
NDB存储引擎的连接操作（JOIN）是在MySQL数据库层完成的，而不是在存储引擎层完成的。因此复杂的连接操作需要巨大的网络开销，查询速度很慢。</p>
<ul>
<li>Memory存储引擎</li>
</ul>
<p>将表中的数据存放在内存中，如果数据库发生崩溃，表中的数据将会消失。适用于存储临时数据的临时表，以及数据仓库的纬度表。默认使用哈希索引，而不是B+树索引。
只支持表锁，并发性能较差，不支持TEXT和BLOB列类型。存储变长字段时是按照定常字段的方式进行的，因此会浪费内存。</p>
<ul>
<li>Archive存储引擎</li>
</ul>
<p>只支持INSERT和SELECT操作，使用<code>zlib</code>将数据进行压缩后存储，存储比率可达1：10。适用于存储归档数据。
使用行锁来实现高并发的插入操作，但是本身并不是事务安全的存储引擎，其设计目标主要是提供高速的插入和压缩功能。</p>
<ul>
<li>Federated存储引擎</li>
</ul>
<p>表不存放数据，只支持MySQL数据库表，不支持异构数据库表。</p>
<ul>
<li>Maria存储引擎</li>
</ul>
<p>设计目标主要是用来取代原有的MyISAM存储引擎。其特点是缓存数据和索引文件，行锁设计，提供MVCC功能，支持事务和非事务安全的选项支持，以及更好的BLOB字符类型的处理性能。</p>
<h5>6. 存储引擎的比较</h5>
<table>
<thead>
<tr>
<th align="center">Feature</th>
<th align="center">MyISAM</th>
<th align="center">BDB</th>
<th align="center">Memory</th>
<th align="center">InnoDB</th>
<th align="center">Archive</th>
<th align="center">NDB</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Storage Limits</td>
<td align="center">NO</td>
<td align="center">NO</td>
<td align="center">Yes</td>
<td align="center">64TB</td>
<td align="center">No</td>
<td align="center">Yes</td>
</tr>
<tr>
<td align="center">Transactions (commits, rollback, etc.)</td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Locking granularity</td>
<td align="center">Table</td>
<td align="center">Page</td>
<td align="center">Table</td>
<td align="center">Row</td>
<td align="center">Row</td>
<td align="center">Row</td>
</tr>
<tr>
<td align="center">MVCC/Snapshot Read</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Geospatial support</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">B-Tree indexes</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Hash Indexes</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Full text search index</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Clustered Index</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Data Caches</td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Index Caches</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Compressed data</td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Encrypted data(via function)</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Storage cost(space used)</td>
<td align="center">Low</td>
<td align="center">Low</td>
<td align="center">N/A</td>
<td align="center">High</td>
<td align="center">Very Low</td>
<td align="center">Low</td>
</tr>
<tr>
<td align="center">Memory cost</td>
<td align="center">Low</td>
<td align="center">Low</td>
<td align="center">Medium</td>
<td align="center">High</td>
<td align="center">Low</td>
<td align="center">High</td>
</tr>
<tr>
<td align="center">Bulk Insert Speed</td>
<td align="center">High</td>
<td align="center">High</td>
<td align="center">High</td>
<td align="center">Low</td>
<td align="center">Very High</td>
<td align="center">High</td>
</tr>
<tr>
<td align="center">Cluster database support</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Replication support</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Foreign key support</td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center">√</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">Backup/Point-in-time recory</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Query cache support</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
<tr>
<td align="center">Update Statics for Data Dictionary</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
<td align="center">√</td>
</tr>
</tbody>
</table>
            </div>
            <div class="article-info">
                <hr/>
                <div class="article-info">
                    <span><b>Category: </b><a href="/category/back-end.html">back-end</a></span>
                    <br/>
                    <span><b>Publication Date: </b> Sun 30 July 2017 </span>
                    <br/>
                        <a class="label-default" href="/tag/mysql.html">MySQL</a>
                        <a class="label-default" href="/tag/storage-engine.html">Storage Engine</a>
                    <br/>
                </div>
            </div>
        </article>
    </section>
    <br/>
    <br/>
    <br/>
</div>

<footer class="footer">
    &copy <a href="/" >kosmgco</a>. 2016
    <br/>
    Powered by <a href="//getpelican.com/">pelican</a>.
    Theme by <a href="//github.com/kosmgco/ops">ops</a> | 
    <a href="//www.miitbeian.gov.cn/">渝ICP备16003403号</a>
</footer>
<script>
    var _hmt = _hmt || [];
    (function() {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?67d2b3355046511d3ad9eef9c65d2a41";
        var s = document.getElementsByTagName("script")[0]; 
        s.parentNode.insertBefore(hm, s);
    })();
</script>
</body>
</html>